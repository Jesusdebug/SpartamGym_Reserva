<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition>

        <div class="container" style="margin-top:30px; text-align: center">


            <table class="table table-dark table-striped">
                <thead>
                    <tr>
                        <th scope="col">Codigob Agenda rutina</th>
                        <th scope="col">Codigob rutina</th>
                        <th scope="col">Nombre de la rutina</th>
                        <th scope="col">Hora Inicio</th>
                        <th scope="col">Lugar Final</th>
                        <th scope="col">Entrenador</th>
                        <th scope="col">Administrador</th>
                        <th scope="col">Opciones</th>
                    </tr>
                </thead>
                <tbody class="table table-danger table-striped">
                    <h:form id="actualizaDom">
                        <c:forEach items="#{agendaRutinaView.listaAgendaRutina}" var="agendarutina">
                            <tr>
                                <th scope="row">#{agendarutina.idagendarutina}</th>
                                <th scope="row">#{agendarutina.idrutina.idrutina}</th>
                                <th scope="row">#{agendarutina.idrutina.nombre}</th>
                                <td>#{agendarutina.idrutina.horainicio}</td>
                                <td>#{agendarutina.idrutina.horafin}</td>
                                <td>#{agendarutina.identrenador.tusuarioIdUsuario.nombres}</td>
                                <td>#{agendarutina.idadministrador.tusuarioIdUsuario.nombres}</td>
                                <td>
                                    <!--                                     <a href="RAgenda.xhtml" style="display: none">ir</a>-->
                                   <h:commandButton  id="btnCancelar" value="Cancelar"  onchange="$('#actualizaDom\\:btnActualiza').click()"  action="#{agendaRutinaView.eliminarAsig(agendarutina.idagendarutina)}"/>
                                    <h:commandButton id="btnActualiza" value="ir" action="#{agendaRutinaView.cargarlista()}"/>
                                     
                                   <!--                                    <button type="button" onclick="$('#actualizaDom\\:btnActualiza').click()"></button>-->
                                    <button type="button" onclick="$('#actualizaDom\\:btnCancelar').click()">Eliminar</button>
                                </td>



                            </tr>
                        </c:forEach>
                    </h:form>
                </tbody>

            </table>



            <h:panelGroup id="rederarutina">
                <h:form>
                    <table class="table table-dark table-striped">
                        <thead>

                            <tr>
                                <th scope="col">Nombre del evento</th>
                                <th scope="col">Hora Inicio</th>
                                <th scope="col">Hora Final</th>
                                <th scope="col">Lugar</th>
                                <th scope="col">Administrador</th>
                                <th scope="col">Entrenador</th>
                            </tr>
                        </thead>
                        <c:forEach items="#{agendaView.listaAgendaEvento}" var="evento">
                            <tbody class="table table-danger table-striped">

                                <tr>
                                    <th scope="row">#{evento.idevento.nombre}</th>
                                    <td>#{evento.idevento.horainicio}</td>
                                    <td>#{evento.idevento.horafin}</td>
                                    <td>#{evento.idevento.lugar}</td>
                                    <td>#{evento.idevento.tentrenadorIdentrenador.tusuarioIdUsuario.nombres}</td>
                                    <td>#{evento.idevento.tadministradorIdadministrador.tusuarioIdUsuario.nombres}</td>
                                    <td>

                                        <h:commandButton  value="Cancelar" action="#{agendaView.eliminar(evento.idagendaevento)}">
                                            <f:ajax render="rederarutina"></f:ajax>
                                        </h:commandButton>

                                    </td>


                                </tr>
                            </tbody>
                        </c:forEach>
                    </table>
                </h:form>
            </h:panelGroup>
        </div>
    </ui:composition>
</html>
