<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"       
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <div class="container" style="margin-top:30px; text-align: center">
            <h:form id="carga" enctype="multipart/form-data">
                <h:commandLink   target="_blanck" style="margin-bottom: 10px;" class="btn btn-outline-success" value="Reporte">

                </h:commandLink>
                <p:fileUpload
                    listener="#{usuariosSesion.cargaUsuarios}"
                    mode="advanced"
                    dragDropSupport="true" 
                    sizeLimit="100000"
                    oncomplete="location.reload()"
                    onstart="Swal.showLoading()"
                    cancelLabel="Cancelar"
                    fileLimit="1"
                    fileLimitMessage="Cantidad de archivos no permitida"
                    uploadLabel="Subir"
                    label="Escoger"
                    allowTypes="/(\.|\/)(xls|xlsx)$/"
                    >
                </p:fileUpload>
            </h:form> 
            <h:form>
                <table class="table" id="tablaUsuarios">
                    <thead class="thead-dark">
                        <tr>
                            <th scope="col">Tipo de documento</th>
                            <th scope="col">Documento</th>
                            <th scope="col">Nombres / Apellidos</th>
                            <th scope="col">Correo</th>
                            <th scope="col">Acciones</th>

                        </tr>
                    </thead>
                    <tbody>
                        <c:forEach items="#{usuariosSesion.listaUsuario}" var="usuario">
                            <tr>
                                <th>#{usuario.tipodoc}</th>
                                <td>#{usuario.numerodoc}</td>
                                <td>#{usuario.nombres} #{usuario.apellidos}</td>
                                <td>#{usuario.correo}</td>
                                <td>
                                    <h:commandButton  class="btn btn-outline-danger" action="#{usuariosSesion.eliminarUsuario(usuario.idUsuario)}" value="X">

                                    </h:commandButton>
                                </td>
                            </tr>

                        </c:forEach>

                    </tbody>
                </table>

            </h:form>





        </div>

    </ui:composition>
</html>
